<% if films.any? %>
  <div class="film-grid">
    <% films.each do |film| %>
      <%= link_to film_path(film), class: "film-card" do %>
        <% hidden_thumbnail = film.display_thumbnail %>
        <div class="film-thumbnail">
          <% if hidden_thumbnail.present? %>
            <%= image_tag hidden_thumbnail, alt: film.title, loading: "lazy" %>
          <% else %>
            <div class="placeholder"></div>
          <% end %>
          <div class="inner-ring"></div>
        </div>
        <div class="film-info">
          <div class="film-title"><%= film.title %></div>
          <% if film.release_date.present? %>
            <div class="film-year"><%= film.release_date.year %></div>
          <% end %>
          <div class="role-badges">
            <% user.film_roles(film).each do |role| %>
              <span class="role-badge <%= role.downcase %>"><%= role %></span>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
<% else %>
  <div class="empty-state">No hidden films.</div>
<% end %>
